:root{
  --bg:#0b0f14; --card:#101720; --ink:#e9f2ff; --muted:#9fb0c7; --accent:#5bd1ff; --accent-2:#9bffdd;
  --chip:#182330; --chip-border:#223144; --cardw: 360px;
}
:root[data-theme="light"]{
  --bg:#f7faff; --card:#ffffff; --ink:#0b1623; --muted:#3e526d; --accent:#0d7bd0; --accent-2:#0ab39b;
  --chip:#eef3fb; --chip-border:#d9e6f8;
}
*{box-sizing:border-box}
body{
  margin:0; background:
    radial-gradient(1200px 800px at 15% -10%, rgba(91,209,255,.10), transparent),
    radial-gradient(1000px 600px at 100% 0, rgba(155,255,221,.08), transparent),
    linear-gradient(180deg, #09101a, var(--bg));
  color:var(--ink); font:14px/1.45 system-ui,Segoe UI,Roboto,Helvetica,Arial;
}
body.party::before{
  content:""; position:fixed; inset:-20%; pointer-events:none; z-index:9999; opacity:.18;
  background:conic-gradient(from 0deg,
    #5bd1ff, #9bffdd, #ffd166, #8b5cf6, #10b981, #ef4444, #f59e0b, #5bd1ff);
  mix-blend-mode:screen; filter:blur(6px);
  animation:spin 12s linear infinite;
}
@keyframes spin{ to{ transform:rotate(360deg); } }
a{color:var(--accent); text-decoration:none}
.wrap{max-width:1400px; margin:0 auto; padding:24px 16px 64px}

/* header */
.header{display:flex; gap:12px; align-items:center; margin-bottom:12px; flex-wrap:wrap}
.header h1{font-size:28px; margin:0; letter-spacing:.2px}
.count{opacity:.85; font-size:14px}
.searchbar{position:relative; flex:1; min-width:260px}
.searchbar input{
  width:100%; padding:12px 40px 12px 12px;
  border:1px solid #233246; border-radius:12px; background:#0f151d; color:#e9f2ff;
  outline:none; transition: box-shadow .15s, border-color .15s;
}
:root[data-theme="light"] .searchbar input{ background:#fff; color:#0b1623; border-color:#c7d5ea }
.searchbar input:focus{ box-shadow:0 0 0 3px rgba(91,209,255,.25); border-color:#345375 }
.searchbar .k{position:absolute; right:8px; top:50%; transform:translateY(-50%); opacity:.7; font-size:12px; background:#0b1118; border:1px solid #1f2a3a; padding:2px 6px; border-radius:6px}
:root[data-theme="light"] .searchbar .k{ background:#eef3fb; border-color:#d9e6f8; color:#3e526d }

/* controls */
.controls{
  display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin:12px 0 18px;
  align-items:start;
}
.controls .panel{ align-self:start }
@media (max-width: 1000px){ .controls{ grid-template-columns:1fr } }
.panel{background:#0f151d; border:1px solid #1e2a3a; border-radius:12px; padding:10px}
:root[data-theme="light"] .panel{ background:#fff; border-color:#dbe7ff }
.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
select{background:#0f151d; color:#e9f2ff; border:1px solid #233246; border-radius:10px; padding:8px 10px; cursor:pointer}
:root[data-theme="light"] select{ background:#fff; color:#0b1623; border-color:#c7d5ea }
.label{font-size:12px; opacity:.85}
.chips{display:flex; gap:6px; flex-wrap:wrap}
.chip{background:#0b1118; border:1px solid #1f2b3b; color:#d2e4ff; font-size:12px; padding:5px 9px; border-radius:999px; cursor:pointer; display:inline-flex; align-items:center; gap:6px}
.chip img{height:28px;border-radius:4px;display:inline-block;vertical-align:-3px}
:root[data-theme="light"] .chip{ background:#eef3fb; border-color:#d9e6f8; color:#0b1623 }
.chip.active{border-color:#5bd1ff; color:#ffffff}
:root[data-theme="light"] .chip.active{ color:#0b1623; box-shadow:0 0 0 2px rgba(13,123,208,.15) inset }

.btn{font-size:12px; padding:8px 12px; background:#0f151d; border:1px solid #1e2a3a; border-radius:10px; color:#fff; cursor:pointer}
.btn:hover{ border-color:#38506f }
:root[data-theme="light"] .btn{ background:#fff; color:#0b1623; border-color:#c7d5ea }

/* segmentation control */
.seg{display:inline-flex; gap:0; border:1px solid #223246; border-radius:999px; overflow:hidden}
:root[data-theme="light"] .seg{ border-color:#c7d5ea }
.seg .segbtn{padding:6px 10px; background:transparent; color:var(--ink); border:0; cursor:pointer; font-size:12px}
.seg .segbtn.active{ background:#0d1724 }
:root[data-theme="light"] .seg .segbtn.active{ background:#eef3fb }

/* active filter bar */
.afbar{display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 0}
.rchip{display:inline-flex; align-items:center; gap:6px; background:#0b1118; border:1px solid #1f2b3b; color:#d2e4ff; font-size:12px; padding:5px 8px; border-radius:999px}
.rchip b{opacity:.8; font-weight:600}
.rchip .x{cursor:pointer; opacity:.85}
:root[data-theme="light"] .rchip{ background:#eef3fb; border-color:#d9e6f8; color:#0b1623 }

/* grid cards */
.grid{display:grid; grid-template-columns: repeat(auto-fill, minmax(var(--cardw), 1fr)); gap:14px}
.ghead{
  grid-column:1/-1; padding:6px 2px; margin-top:2px; letter-spacing:.5px; font-weight:800; opacity:.9;
  border-bottom:1px dashed #223246;
}
:root[data-theme="light"] .ghead{ border-bottom-color:#c7d5ea }
.card{
  position:relative; border:1px solid #1b2636; border-radius:16px; background:linear-gradient(180deg, #0f151d, #0b1016);
  overflow:hidden; transition: transform .14s ease, box-shadow .14s ease, border-color .14s;
}
:root[data-theme="light"] .card{ background:#fff; border-color:#dbe7ff }
.card:hover{ transform: translateY(-3px); border-color:#2b3d57; box-shadow:0 12px 30px rgba(0,0,0,.25) }
.thumb-wrap{ background:linear-gradient(180deg, rgba(91,209,255,.07), rgba(155,255,221,.06)); position:relative }
.thumb-wrap a{display:block}
.thumb-wrap img{ width:100%; height:auto; display:block; filter:drop-shadow(0 12px 22px rgba(0,0,0,.55)) }
.type-ring{ position:absolute; inset:auto 8px 8px auto; width:14px; height:14px; border-radius:50%; border:2px solid currentColor; opacity:.9 }
.type-agl{ color:var(--agl,#3b82f6) } .type-teq{ color:var(--teq,#10b981) } .type-int{ color:var(--int,#8b5cf6) } .type-str{ color:var(--str,#ef4444) } .type-phy{ color:var(--phy,#f59e0b) }

/* favorite star */
.fav{ position:absolute; top:8px; right:8px; z-index:2; width:30px; height:30px; border-radius:50%; border:1px solid #2a3b54; background:#0c121a; display:flex;align-items:center;justify-content:center; cursor:pointer; transition:.15s }
:root[data-theme="light"] .fav{ background:#fff; border-color:#dbe7ff }
.fav:hover{ border-color:#5bd1ff }
.fav svg{ width:16px; height:16px; fill:#a9c0df }
.fav.active svg{ fill:#ffd166 }

.card .content{ padding:12px 12px 14px }
.title{font-size:16px; font-weight:700; margin:0 0 6px; letter-spacing:.2px}
.meta{display:flex; gap:8px; flex-wrap:wrap; margin:0 0 8px}
.meta .pill{font-size:11px; background:#0b1118; padding:4px 8px; border:1px solid #1c2838; border-radius:999px; color:#cfe2ff}
:root[data-theme="light"] .meta .pill{ background:#eef3fb; border-color:#d9e6f8; color:#0b1623 }
.leader, .super{font-size:12px; color:var(--muted)}
.leader strong, .super strong{color:#cfe2ff}
.flags{display:flex; gap:6px; flex-wrap:wrap; margin-top:8px}
.badge{display:inline-flex; align-items:center; gap:6px; font-size:11px; padding:3px 8px; background:#0e151d; border:1px solid #233246; border-radius:999px; color:#cadeff}
.badge.seza{border-color:#6aa9ff; color:#e2efff}
.badge.eza{border-color:#2f5f8a; color:#bfe0ff}
.badge.tr{border-color:#476a3c; color:#d9ffd1}
.badge.ex{border-color:#6b5a2d; color:#ffe7ac}
.badge.st{border-color:#6a446e; color:#ffccff}
.badge.ac{border-color:#3a5f76; color:#cdeaff}
.badge.gi{border-color:#6b4f2f; color:#ffe5bd}
.badge.rv{border-color:#355a2e; color:#cdffcc}

.foot{display:flex; gap:8px; margin-top:10px; flex-wrap:wrap}
.button{font-size:12px; padding:8px 12px; background:#0f151d; border:1px solid #1e2a3a; border-radius:10px; color:#fff}
.button:hover{ border-color:#38506f }
.tbar{display:flex; gap:8px; margin-top:8px; flex-wrap:wrap}
.tbar .button{background:#0d1724}
:root[data-theme="light"] .tbar .button{ background:#fff; border-color:#c7d5ea; color:#0b1623 }
.help{font-size:12px; opacity:.75}

/* detail-specific sections */
.top{display:grid; grid-template-columns: 360px 1fr; gap:18px; align-items:start}
@media (max-width: 980px){ .top{ grid-template-columns: 1fr } }
.card.detail{background:linear-gradient(180deg, var(--card), #0b1016)}
.card .pad{padding:14px}

.hero{position:relative; background:linear-gradient(135deg, rgba(91,209,255,.10), rgba(155,255,221,.05) 40%, transparent);
      border-radius:16px; border:1px solid #1b2636; padding:10px; }
:root[data-theme="light"] .hero{ border-color:#dbe7ff; background:#fff }
.hero .imgbox{background:#0b1118; border:1px solid #172234; border-radius:12px; display:flex; align-items:center; justify-content:center}
:root[data-theme="light"] .hero .imgbox{ background:#eef3fb; border-color:#d9e6f8 }
.hero .imgbox img{width:100%; height:auto; object-fit:contain; display:block; filter:drop-shadow(0 18px 26px rgba(0,0,0,.55))}
.hmeta{margin-top:10px; display:flex; gap:8px; flex-wrap:wrap}
.hmeta .pill{font-size:12px; background:#0b1118; padding:5px 9px; border:1px solid #1c2838; border-radius:999px; color:#b5c9e6}
:root[data-theme="light"] .hmeta .pill{ background:#eef3fb; border-color:#d9e6f8; color:#0b1623 }

.hdr{display:flex; justify-content:space-between; align-items:flex-start; gap:12px}
.hdr h1{font-size:22px; margin:0}
